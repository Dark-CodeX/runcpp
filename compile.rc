if os == 'windows'
    depends('clang++.exe') # *.exe is important
else
    depends('clang++')
endif

[compiler]:
    compiler = 'g++'

[arguments]:
    release_args = ['-std=c++2a', '-O3', '-DNDEBUG', '-march=native', '-mtune=native', '-masm=intel', '-flto']
    debug_args = ['-std=c++2a', '-g', '-ggdb3', '-Wall', '-Wextra', '-Wuninitialized', '-Wstrict-aliasing', '-Wshadow', '-pedantic']

import "./runcpp/compile.rc"

# here we are using `all`, which means every command is executed like a separate process
[all]:
    release()
    debug()
    if os == 'linux'
        install()
    endif
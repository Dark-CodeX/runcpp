if os == 'windows'
    depends('g++.exe')
else
    depends('g++')
endif

[compiler]:
    compiler = 'g++'

[arguments]:
    release_args = ['-std=c++23', '-O3', '-DNDEBUG', '-Os', '-Ofast', '-Og', '-s', '-march=native', '-masm=intel', '-flto=auto', '-funroll-all-loops']
    debug_args = ['-std=c++23', '-g', '-ggdb3', '-Wall', '-Wextra', '-Wuninitialized', '-Wstrict-aliasing', '-Wshadow', '-pedantic']

import "./runcpp/compile.rc"
import "./runcpp-format/compile.rc"

# here we are using `all`, which means every command is executed like a separate process
[all]:
# below is for runcpp
    r-release()
    r-debug()
    if os == 'linux'
        r-install()
    endif

# below is for runcpp-format
    rf-release()
    rf-debug()
    if os == 'linux'
        rf-install()
    endif